<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="data.js"></script>
		<script src="GEOJSON.js"></script>
		<script src="DataUtils.js"></script>
		<script src="../demo/3d/JS/jquery-1.10.2.min.js"></script>
	</head>
	<body style="transform: translate3d(0px, 0px, 0px); image-rendering: optimizespeed; position: absolute; left: 0px; top: 0px;margin: 0px;padding:0px;">
	<canvas id="myCanvas" ></canvas>

     
	 <script>
	(function(){
		
		

	var IS_IOS = /iP(ad|hone|od)/g.test(navigator.userAgent);
	var IS_MSIE = !!~navigator.userAgent.indexOf('Trident');
	var requestAnimFrame = (window.requestAnimationFrame && !IS_IOS && !IS_MSIE) ?window.requestAnimationFrame : function(callback) {callback();};
			
		  var data = GeoJSON.read(builderData);
		  var ll = GeoJSON.geoToPixel(12,12);
		  console.log(ll);
		  var aaa = GeoJSON.pixelToGeo(12,12);
		  console.log(aaa);
	  
	      var WIDTH = 3600,HEIGHT= 1860;
	   	  
		  var myCanvas = document.getElementById("myCanvas");
		  var context = myCanvas.getContext("2d");
		  myCanvas.style.width  = WIDTH + "px";
		  myCanvas.style.height = HEIGHT+ "px";
		  myCanvas.style.border ="1px solid #000";
		  
		  context.clearRect(0, 0, WIDTH, HEIGHT);
		  
		  var path = [798,235,727,220,744,102,822,118,806,236];
		  var path = [774,208,752,203,730,198,729,198,745,82,822,98,807, 215, 800, 213]
		  
		  function renderPolygon(polygon) {
		  	console.log(polygon);
		    context.fillStyle = 'rgba(51, 0, 204, 0.77)';
		    context.beginPath();
		    _ring(context,polygon);
		    context.closePath();
    		context.stroke();
    		context.fill();
		}
		  
		_ring =  function(context, polygon) {
		    context.moveTo(polygon[0], polygon[1]);
		    for (var i = 2, il = polygon.length-1; i < il; i += 2) {
		      context.lineTo(polygon[i], polygon[i+1]);
		    }
		}
		
		var dataFormat = function(){
			var arr= [];
			for(var i = 0 ; i <path.length;i++){
				var pa =  path[i] * 0.5;
				arr.push(pa);
			}
			return arr;
		}
		
		
		var i = 0 ;
		var timer = setInterval(function(){
			if(i==5 && timer){
				clearInterval(timer);
				return ;
			}
			i++;
			requestAnimFrame(function(){
				var data = dataFormat(path);
				renderPolygon(data);
			});
			
		},33);
		
		
		 
		
		
		
	})();
	</script>
	</body>
</html>
